
<div class="user_nav_bar">
  <div class="user_avatar">
    {% if module.avatar_image.src %}
    {% set sizeAttrs = 'width="{{ module.avatar_image.width|escape_attr }}" height="{{ module.avatar_image.height|escape_attr }}"' %}
    {% if module.avatar_image.size_type == 'auto' %}
    {% set sizeAttrs = 'width="{{ module.avatar_image.width|escape_attr }}" height="{{ module.avatar_image.height|escape_attr }}" style="max-width: 100%; height: auto;"' %}
    {% elif module.avatar_image.size_type == 'auto_custom_max' %}
    {% set sizeAttrs = 'width="{{ module.avatar_image.max_width|escape_attr }}" height="{{ module.avatar_image.max_height|escape_attr }}" style="max-width: 100%; height: auto;"' %}
    {% endif %}
    {% set loadingAttr = module.avatar_image.loading != 'disabled' ? 'loading="{{ module.avatar_image.loading|escape_attr }}"' : '' %}
    <img src="{{ module.avatar_image.src|escape_url }}" alt="{{ module.avatar_image.alt|escape_attr }}" {{ loadingAttr }} {{ sizeAttrs }}>
    {% endif %}
  </div>
  {% if request_contact.is_logged_in %}
  {% set membership_contact = crm_object('contact', request.contact.contact_vid, 'firstname,lastname,email') %}
  <div class="user_details_content">
    <div class="user_details">
      <div>
        <p> {{ membership_contact.firstname }} {{ membership_contact.lastname }} </p>
      </div>
      <div>
        <p> {{ membership_contact.email }} </p>
      </div>
    </div>
    <div class="logout">
      <a href="/_hcms/mem/logout">
        <svg width="20px" height="20px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="none">
          <path stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M20 12h-9.5m7.5 3l3-3-3-3m-5-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2h5a2 2 0 002-2v-1"/>
        </svg>
      </a>
    </div>
  </div>
  {% endif %}
</div>

{% require_css %}
<style>
  {% scope_css %}

  .user_avatar{
    border-radius:60%;
    height:60px;
    width:60px;
/*     background-color:#aaa; */
  }

  .user_nav_bar{
    display:flex;
    align-items:center;
    justify-content:space-between;
  }

  .user_details_content{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:10px;
  }

  .user_details>p{
    margin-bottom:5px;
  }

  .user_details p{
    margin:0;
  }

  .logout>a{
    display:block;
  }

  {% end_scope_css %}
</style>
{% end_require_css %}